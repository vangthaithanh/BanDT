@model List<WebDienThoai.Models.SanPhamViewModel>
@{
    ViewBag.Title = "Sản Phẩm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@using (Html.BeginForm("LocSanPham", "Home", FormMethod.Get))
{
    <div class="filter-panel mb-4">
        <div class="row g-3 g-md-4 align-items-end">

            <div class="col-12 col-md-3">
                <label class="form-label fw-semibold">Loại</label>
                @Html.TextBox(
                    "maloai",
                    (object)ViewBag.MaLoai,
                    new { @class = "form-control filter-input", placeholder = "VD: DT, PK..." })
            </div>

            <div class="col-12 col-md-3">
                <label class="form-label fw-semibold">Hãng</label>
                @Html.TextBox(
                    "hang",
                    (object)(ViewBag.Hang as string),
                    new { @class = "form-control filter-input", placeholder = "VD: Apple, Samsung..." })
            </div>

            <div class="col-6 col-md-2">
                <label class="form-label fw-semibold">Giá từ</label>
                @Html.TextBox(
                    "giaMin",
                    (object)ViewBag.GiaMin,
                    new { @class = "form-control filter-input", type = "number", placeholder = "0" })
            </div>

            <div class="col-6 col-md-2">
                <label class="form-label fw-semibold">Đến</label>
                @Html.TextBox(
                    "giaMax",
                    (object)ViewBag.GiaMax,
                    new { @class = "form-control filter-input", type = "number", placeholder = "99999999" })
            </div>

            <div class="col-12 col-md-2">
                <button type="submit" class="btn btn-primary w-100 filter-btn">Lọc</button>
            </div>

        </div>
    </div>
}

<div id="productRow" class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-3">
    @foreach (var sp in Model)
    {
        var url = Url.Content("~/Content/Anh/sanpham/" + sp.ANH);

        <div class="col mb-3">
            <div class="card border rounded shadow h-100">
                @* ảnh *@
                <a href="@Url.Action("ChiTietSanPham", "Home", new { id = sp.MASP })"
                   class="product-link text-decoration-none text-dark">
                    <div class="position-relative overflow-hidden">
                        @* biến tên *@
                        <img src="@url" class="card-img-top" alt="@sp.TENSP" />
                        <span class="position-absolute top-0 start-0 badge bg-danger mt-2 ms-2">-24%</span>
                    </div>
                    <div class="card-body text-start">
                        <h5 class="card-title">@sp.TENSP</h5>
                        <p class="text-decoration-line-through text-muted">33,000,000 đ</p>
                        @* biêns giá bán *@
                        <p class="text-danger fs-4 fw-bold">@string.Format("{0:N0} đ", sp.GIABAN)</p>
                        <small class="text-muted">👁️ 3,100 lượt xem</small>
                    </div>
                </a>
            </div>
        </div>
    }

</div>

<style>
    /* ===== Filter UI ===== */
    .filter-panel {
        background: #eae2d7;
        border-radius: 12px;
        padding: 16px 16px;
        margin-top:20px;
        box-shadow: 0 4px 10px rgba(0,0,0,.08);
    }

    .filter-input {
        border-radius: 10px;
        height: 44px;
    }

    .filter-btn {
        border-radius: 10px;
        height: 44px;
        font-weight: 700;
    }

</style>


